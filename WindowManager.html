<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module" crossorigin>
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var c=(e=>(e[e.Quarter=0]="Quarter",e[e.QuarterCenter=1]="QuarterCenter",e[e.Half=2]="Half",e[e.OneThird=3]="OneThird",e[e.TwoThird=4]="TwoThird",e[e.Full=5]="Full",e[e.FullBright=6]="FullBright",e))(c||{}),a=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.MiddleX="middleX",e.MiddleY="middleY",e.Next="next",e.ResizeX="resizeX",e.ResizeY="resizeY",e))(a||{});const O=["top","right","bottom","left"],f=e=>O.map(t=>[e,t]),u=f(0),h=[...f(1),[1,"middleX"]],d=[...f(2),[2,"middleX"],[2,"middleY"]],g=f(3),b=f(4),R={twoThirdCenter:[4,"middleX"]},l=[[5,"top"],[6,"next"],[5,"next"],[6,"resizeX"],[6,"resizeY"]],T={ALL:[...u,...h,...d,...g,...b,...l],BASE:[l[0],h[4],l[1],l[2],l[3],d[4],R.twoThirdCenter,l[4],u[0],d[3],d[1],u[1],u[3],b[3],b[1],u[2]],BASE_VERTICAL:[l[0],h[4],l[1],l[2],u[0],g[0],d[5],h[0],u[1],g[2],l[3],h[2],u[3],u[2],h[3],h[1]]},X=()=>{const{width:e,height:t}=window.screen;return t*.7>e?T.BASE_VERTICAL:T.BASE},y=X(),w=e=>e===a.Left||e===a.Right||e===a.MiddleX,C=e=>e===a.Top||e===a.Bottom||e===a.MiddleY,F=([e,t])=>{const r=[];switch(e){case c.Quarter:switch(r.push("quarter"),r.push(t),t){case a.Top:r.push("left");break;case a.Right:r.push("top");break;case a.Bottom:r.push("right");break;case a.Left:r.push("bottom");break}break;case c.QuarterCenter:r.push("quarter"),r.push(t),r.push("center");break;case c.Half:r.push("half"),r.push(t);break;case c.OneThird:r.push("one_third"),r.push(t);break;case c.TwoThird:r.push("two_third"),r.push(t);break;case c.Full:{t===a.Next?r.push("next_monitor_full"):t===a.Top&&r.push("maximize");break}case c.FullBright:{r.push(t===a.Next?"next_monitor":t);break}}return r.join("_")},L="ArrowUp",v="ArrowDown",A="ArrowLeft",E="ArrowRight",M=[L,v,A,E];let s=null;const p=y.length,k="active",B=()=>document.querySelector(`.${k}`),x=()=>{var e;return(e=B())==null?void 0:e.classList.remove(k)};window.bttHandler=async e=>{await window.callBTT("trigger_named",{trigger_name:e,closeFloatingHTMLMenu:1}),s=null,x()};const _=()=>{x();const e=document.querySelector(`#list button:nth-child(${s})`);e&&e.classList.add(k)},H=e=>{switch(e){case E:{s=s?s<p?s+1:1:7;break}case A:{s=s?s>1?s-1:p:10;break}case L:s=s?s-4:6,s<1&&(s+=p);break;case v:s=s?s+4:11,s>p&&(s-=p);break}_()};document.addEventListener("keydown",e=>{var t;M.includes(e.key)&&(e.preventDefault(),e.stopImmediatePropagation(),H(e.key)),e.key==="Enter"&&(e.preventDefault(),e.stopImmediatePropagation(),(t=B())==null||t.click())});const I=([e,t])=>{let r="",i="";const o=["icon",t];let n=[0,0];switch(e){case c.Quarter:n=[50,50];break;case c.QuarterCenter:n=[50,50],w(t)?i+="top: 25%;":i+="left: 25%;";break;case c.Half:{n=[100,50],o.push("s1/2");break}case c.TwoThird:n=[100,75],o.push("s2/3");break;case c.OneThird:n=[100,25],o.push("s1/3");break;case c.Full:n=[100,100];break;case c.FullBright:n=[100,100],o.push("bright");break}switch(t){case a.Next:r="\u2B05";break;case a.ResizeX:r="\u2194";break;case a.ResizeY:r="\u2195";break}return w(t)?n.reverse():C(t)||(i+="left: 0; top: 0;"),i+=`width: ${n[0]}%; height: ${n[1]}%;`,`<span class="${o.join(" ")}" style="${i}">${r}</span>`},N=(e,t)=>{const r=t.map(i=>`
        <button onclick="bttHandler('${F(i)}')">
          ${I(i)}
        </button>
    `);e.innerHTML=`<div id="list">${r.join("")}</div>`};async function $(){const e=document.getElementById("app");if(!(e instanceof HTMLDivElement)){alert("App element not found");return}N(e,y)}document.addEventListener("DOMContentLoaded",$);

</script>
  <style>
:root{--size: 25px;--padding: 3px}*{margin:0;padding:0}body{padding:0;margin:0;color:#eee;overflow:hidden;display:flex;justify-content:center;background:#f3f3f3}#list{display:grid;margin:var(--padding);grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(4,1fr);grid-column-gap:var(--padding);grid-row-gap:var(--padding)}#list button{box-sizing:content-box;display:inline-flex;position:relative;background:transparent;width:calc(var(--size) - 2px);height:calc(var(--size) - 2px);border:2px solid #1a1a1a;font-size:calc(4px + var(--size) / 2)}#settings .icon-wrap{position:relative;width:calc(var(--size) / 2);height:calc(var(--size) / 2);border:1px solid #1a1a1a;font-size:14px}.icon{position:absolute;background:#1a1a1a;color:#fff;display:flex;align-items:center;justify-content:center}.icon.bright{color:#1a1a1a;background:#fff}.top{left:0;top:0}.left{left:0;bottom:0}.right{right:0;top:0}.bottom{right:0;bottom:0}.middleX{left:25%;top:0}.middleX.s2\/3{left:12.5%}.middleX.s1\/3{left:37.5%}.middleX.s1\/2{left:25%}.middleY{top:25%;left:0}.middleY.s2\/3{top:12.5%}.middleY.s1\/3{top:37.5%}.middleY.s2\/3{top:25%}#list .active .icon,#list button:hover .icon{background:#2b719c;color:#2b719c!important}#settings{left:0;position:absolute}.settings-item{display:flex;margin-bottom:5px}.settings-item input{margin-left:10px}

</style>
</head>
<body>
<div id="app"></div>

</body>
</html>
