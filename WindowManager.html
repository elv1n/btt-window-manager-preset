<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module" crossorigin>
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var a=(e=>(e[e.Quarter=0]="Quarter",e[e.QuarterCenter=1]="QuarterCenter",e[e.Half=2]="Half",e[e.OneThird=3]="OneThird",e[e.TwoThird=4]="TwoThird",e[e.Full=5]="Full",e[e.FullBright=6]="FullBright",e))(a||{}),i=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.MiddleX="middleX",e.MiddleY="middleY",e.Next="next",e.ResizeX="resizeX",e.ResizeY="resizeY",e))(i||{});const Q=["top","right","bottom","left"],k=e=>Q.map(t=>[e,t]),u=k(0),f=[...k(1),[1,"middleX"]],m=[...k(2),[2,"middleX"],[2,"middleY"]],T=k(3),w=k(4),V={twoThirdCenter:[4,"middleX"]},l=[[5,"top"],[6,"next"],[5,"next"],[6,"resizeX"],[6,"resizeY"]],A={ALL:[...u,...f,...m,...T,...w,...l],BASE:[l[0],f[4],l[1],l[2],l[3],m[4],V.twoThirdCenter,l[4],u[0],m[3],m[1],u[1],u[3],w[3],w[1],u[2]],BASE_VERTICAL:[l[0],f[4],l[1],l[2],u[0],T[0],m[5],f[0],u[1],T[2],l[3],f[2],u[3],u[2],f[3],f[1]]},D=()=>{const{width:e,height:t}=window.screen;return t*.7>e?A.BASE_VERTICAL:A.BASE},x=D(),B=e=>e===i.Left||e===i.Right||e===i.MiddleX,j=e=>e===i.Top||e===i.Bottom||e===i.MiddleY,G=([e,t])=>{const r=[];switch(e){case a.Quarter:switch(r.push("quarter"),r.push(t),t){case i.Top:r.push("left");break;case i.Right:r.push("top");break;case i.Bottom:r.push("right");break;case i.Left:r.push("bottom");break}break;case a.QuarterCenter:r.push("quarter"),r.push(t),r.push("center");break;case a.Half:r.push("half"),r.push(t);break;case a.OneThird:r.push("one_third"),r.push(t);break;case a.TwoThird:r.push("two_third"),r.push(t);break;case a.Full:{t===i.Next?r.push("next_monitor_full"):t===i.Top&&r.push("maximize");break}case a.FullBright:{r.push(t===i.Next?"next_monitor":t);break}}return r.join("_")},U=e=>{const t=e+1;if(t<1||t>16)return{row:0,column:0};const r=Math.ceil(t/4),o=t%4===0?4:t%4;return{row:r,column:o}};let b=!1;const K=()=>{const e=localStorage.getItem("isVisible");e&&(b=e==="true")};function I(e){const t=e!=null?e:document.querySelector("#list");t!=null&&(b?t.classList.add("letter-visible"):t.classList.remove("letter-visible"))}function S(){K()}function W(){b=!b,localStorage.setItem("isVisible",b.toString()),I()}const M=e=>{switch(e){case 1:return"s";case 2:return"d";case 3:return"f";case 4:return"g";default:return""}},O="s",C="d",F="f",P="g",J=new Set([O,C,F,P]),R=new Map([[O,1],[C,2],[F,3],[P,4]]);let d=[];function _(e){const t=J.has(e);return!t&&d.length!==0&&(d=[]),t}function Z(e){var t,r;if(d.push(e),d.length===2){const[o,n]=d;d=[];const s=(t=R.get(o))!=null?t:0,p=(r=R.get(n))!=null?r:0;return(s-1)*4+p}return null}function z(e,t){const r=U(t),o=M(r.row),n=M(r.column);return e===o?n:e!==""?"":o+n}function ee(e,t){const r=z(e,t);return r?`<span class="letter">${r}</span>`:""}const E="ArrowUp",X="ArrowDown",$="ArrowLeft",N="ArrowRight",te=[E,X,$,N];let c=null;const g=x.length,v="active",y=()=>document.querySelector(`.${v}`);let h="";const H=()=>{var e;return(e=y())==null?void 0:e.classList.remove(v)};window.bttHandler=async e=>{await window.callBTT("trigger_named",{trigger_name:e,closeFloatingHTMLMenu:1}),c=null,H()};const Y=()=>{H();const e=document.querySelector(`#list button:nth-child(${c})`);e&&e.classList.add(v)},q=e=>{switch(e){case N:{c=c?c<g?c+1:1:7;break}case $:{c=c?c>1?c-1:g:10;break}case E:c=c?c-4:6,c<1&&(c+=g);break;case X:c=c?c+4:11,c>g&&(c-=g);break}Y()};document.addEventListener("keydown",e=>{var o,n;!((e.key==="Escape"||e.key==="Backspace")&&h==="")&&(e.preventDefault(),e.stopImmediatePropagation()),te.includes(e.key)&&q(e.key),e.key==="Enter"&&((o=y())==null||o.click());const r=e.key.toLowerCase();if(r==="a")W();else if(_(r)){const s=Z(r);s?(c=s,Y(),(n=y())==null||n.click(),h="",L()):(h=r,L())}h!==""&&(e.key==="Escape"||e.key==="Backspace"||!_(r))&&(h="",L())});const re=([e,t])=>{let r="",o="";const n=["icon",t];let s=[0,0];switch(e){case a.Quarter:s=[50,50];break;case a.QuarterCenter:s=[50,50],B(t)?o+="top: 25%;":o+="left: 25%;";break;case a.Half:{s=[100,50],n.push("s1/2");break}case a.TwoThird:s=[100,75],n.push("s2/3");break;case a.OneThird:s=[100,25],n.push("s1/3");break;case a.Full:s=[100,100];break;case a.FullBright:s=[100,100],n.push("bright");break}switch(t){case i.Next:r="\u2B05";break;case i.ResizeX:r="\u2194";break;case i.ResizeY:r="\u2195";break}return B(t)?s.reverse():j(t)||(o+="left: 0; top: 0;"),o+=`width: ${s[0]}%; height: ${s[1]}%;`,`<span class="${n.join(" ")}" style="${o}">${r}</span>`},ne=(e,t)=>{const r=t.map((o,n)=>`
        <button onclick="bttHandler('${G(o)}')">
          ${re(o)}
         ${ee(h,n)}
        </button>
    `);e.innerHTML=`<div id="list">${r.join("")}</div>`,I(e)};function L(){const e=document.getElementById("app");if(!(e instanceof HTMLDivElement)){alert("App element not found");return}ne(e,x)}function se(){S(),L(),q(E)}document.addEventListener("DOMContentLoaded",se);

</script>
  <style>
:root{--size: 25px;--padding: 3px}*{margin:0;padding:0}body{padding:0;margin:0;color:#eee;overflow:hidden;display:flex;justify-content:center;background:#f3f3f3}#list{display:grid;margin:var(--padding);grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(4,1fr);grid-column-gap:var(--padding);grid-row-gap:var(--padding)}#list button{box-sizing:content-box;display:inline-flex;position:relative;background:transparent;width:calc(var(--size) - 2px);height:calc(var(--size) - 2px);border:2px solid #1a1a1a;font-size:calc(4px + var(--size) / 2)}#settings .icon-wrap{position:relative;width:calc(var(--size) / 2);height:calc(var(--size) / 2);border:1px solid #1a1a1a;font-size:14px}.icon{position:absolute;background:#1a1a1a;color:#fff;display:flex;align-items:center;justify-content:center}.icon.bright{color:#1a1a1a;background:#fff}.top{left:0;top:0}.left{left:0;bottom:0}.right{right:0;top:0}.bottom{right:0;bottom:0}.middleX{left:25%;top:0}.middleX.s2\/3{left:12.5%}.middleX.s1\/3{left:37.5%}.middleX.s1\/2{left:25%}.middleY{top:25%;left:0}.middleY.s2\/3{top:12.5%}.middleY.s1\/3{top:37.5%}.middleY.s2\/3{top:25%}#list .active .icon,#list button:hover .icon{background:#2b719c;color:#2b719c!important}#settings{left:0;position:absolute}.settings-item{display:flex;margin-bottom:5px}.settings-item input{margin-left:10px}span.letter{position:absolute;background:#ffff00b5;font-size:10px;bottom:0;right:0;opacity:0;text-transform:uppercase}.letter-visible span.letter{opacity:1}

</style>
</head>
<body>
<div id="app"></div>

</body>
</html>
