<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module" crossorigin>
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var c=(e=>(e[e.Quarter=0]="Quarter",e[e.QuarterCenter=1]="QuarterCenter",e[e.Half=2]="Half",e[e.OneThird=3]="OneThird",e[e.TwoThird=4]="TwoThird",e[e.Full=5]="Full",e[e.FullBright=6]="FullBright",e))(c||{}),s=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.MiddleX="middleX",e.MiddleY="middleY",e.Next="next",e.ResizeX="resizeX",e.ResizeY="resizeY",e))(s||{});const R=["top","right","bottom","left"],p=e=>R.map(r=>[e,r]),u=p(0),d=[...p(1),[1,"middleX"]],h=[...p(2),[2,"middleX"],[2,"middleY"]],b=p(3),g=p(4),l=[[5,"top"],[6,"next"],[5,"next"],[6,"resizeX"],[6,"resizeY"]],T={ALL:[...u,...d,...h,...b,...g,...l],BASE:[l[0],d[4],l[1],l[2],g[3],g[1],l[3],l[4],h[3],h[1],u[0],u[1],h[0],h[2],u[2],u[3]],BASE_VERTICAL:[l[0],d[4],l[1],l[2],u[0],b[0],h[5],d[0],u[1],b[2],l[3],d[2],u[2],u[3],d[1],d[3]]},x=()=>{const{width:e,height:r}=window.screen;return r*.7>e?T.BASE_VERTICAL:T.BASE},y=x(),w=e=>e===s.Left||e===s.Right||e===s.MiddleX,F=e=>e===s.Top||e===s.Bottom||e===s.MiddleY,M=([e,r])=>{const t=[];switch(e){case c.Quarter:switch(t.push("quarter"),t.push(r),r){case s.Top:t.push("left");break;case s.Right:t.push("top");break;case s.Bottom:t.push("right");break;case s.Left:t.push("bottom");break}break;case c.QuarterCenter:t.push("quarter"),t.push(r),t.push("center");break;case c.Half:t.push("half"),t.push(r);break;case c.OneThird:t.push("one_third"),t.push(r);break;case c.TwoThird:t.push("two_third"),t.push(r);break;case c.Full:{r===s.Next?t.push("next_monitor_full"):r===s.Top&&t.push("maximize");break}case c.FullBright:{t.push(r===s.Next?"next_monitor":r);break}}return t.join("_")},L="ArrowUp",v="ArrowDown",A="ArrowLeft",E="ArrowRight",X=[L,v,A,E];let o=null;const f=y.length,k="active",B=()=>document.querySelector(`.${k}`),O=()=>{var e;return(e=B())==null?void 0:e.classList.remove(k)};window.bttHandler=async e=>{await window.callBTT("trigger_named",{trigger_name:e,closeFloatingHTMLMenu:1}),o=null,O()};const _=()=>{O();const e=document.querySelector(`#list button:nth-child(${o})`);e&&e.classList.add(k)},H=e=>{switch(e){case E:{o=o?o<f?o+1:1:7;break}case A:{o=o?o>1?o-1:f:10;break}case L:o=o?o-4:6,o<1&&(o+=f);break;case v:o=o?o+4:11,o>f&&(o-=f);break}_()};document.addEventListener("keydown",e=>{var r;if(X.includes(e.key)&&(e.preventDefault(),e.stopImmediatePropagation(),H(e.key)),e.key==="Enter"){const t=(r=B())==null?void 0:r.querySelector("button");t!=null&&t.click()}});const $=([e,r])=>{let t="",a="",n=[0,0];switch(e){case c.Quarter:n=[50,50];break;case c.QuarterCenter:n=[50,50],w(r)?a+="top: 25%;":a+="left: 25%;";break;case c.Half:{n=[100,50];break}case c.TwoThird:n=[100,75];break;case c.OneThird:n=[100,25];break;case c.Full:n=[100,100];break;case c.FullBright:n=[100,100],a+="background: #fff; color: #1a1a1a;";break}switch(r){case s.Next:t="\u2B05";break;case s.ResizeX:t="\u2194";break;case s.ResizeY:t="\u2195";break}return w(r)?n.reverse():F(r)||(a+="left: 0; top: 0;"),a+=`width: ${n[0]}%; height: ${n[1]}%;`,`<span class="icon ${r}" style="${a}">${t}</span>`},C=(e,r)=>{const t=r.map(a=>`
        <button onclick="bttHandler('${M(a)}')">
          ${$(a)}
        </button>
    `);e.innerHTML=`<div id="list">${t.join("")}</div>`};async function I(){const e=document.getElementById("app");if(!(e instanceof HTMLDivElement)){alert("App element not found");return}C(e,y)}document.addEventListener("DOMContentLoaded",I);

</script>
  <style>
:root{--size: 25px;--padding: 3px}*{margin:0;padding:0}body{padding:0;margin:0;color:#eee;overflow:hidden;display:flex;justify-content:center;background:#f3f3f3}#list{display:grid;margin:var(--padding);grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(4,1fr);grid-column-gap:var(--padding);grid-row-gap:var(--padding)}#list button{box-sizing:content-box;display:inline-flex;position:relative;background:transparent;width:calc(var(--size) - 2px);height:calc(var(--size) - 2px);border:2px solid #1a1a1a;font-size:calc(4px + var(--size) / 2)}#settings .icon-wrap{position:relative;width:calc(var(--size) / 2);height:calc(var(--size) / 2);border:1px solid #1a1a1a;font-size:14px}.icon{position:absolute;background:#1a1a1a;display:flex;align-items:center;justify-content:center;color:#fff}.top{left:0;top:0}.left{left:0;bottom:0}.right{right:0;top:0}.bottom{right:0;bottom:0}.middleX{left:25%;top:0}.middleY{top:25%;left:0}#list .active .icon,#list button:hover .icon{background:#2b719c;color:#2b719c!important}#settings{left:0;position:absolute}.settings-item{display:flex;margin-bottom:5px}.settings-item input{margin-left:10px}

</style>
</head>
<body>
<div id="app"></div>

</body>
</html>
